<input type="file" accept=".csv" (change)="fileUpload($event)" />

<ng-container *ngIf="dataElements?.length">
  <div class="container">
    <div class="table-panel">
      <table mat-table [dataSource]="dataElements">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> No. </th>
          <td mat-cell *matCellDef="let element">{{element.index}}</td>
        </ng-container>
        <ng-container matColumnDef="transactionDate">
          <th mat-header-cell *matHeaderCellDef> Transaction Date </th>
          <td mat-cell *matCellDef="let element">{{element.transactionDate | date:'shortDate'}}</td>
        </ng-container>
        <ng-container matColumnDef="postDate">
          <th mat-header-cell *matHeaderCellDef> Post Date </th>
          <td mat-cell *matCellDef="let element">{{element.postDate | date:'shortDate'}}</td>
        </ng-container>
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef> Description </th>
          <td mat-cell *matCellDef="let element">{{element.description}}</td>
        </ng-container>
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef> Category </th>
          <td mat-cell *matCellDef="let element">{{element.category}}</td>
        </ng-container>
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef> Type </th>
          <td mat-cell *matCellDef="let element">{{element.type}}</td>
        </ng-container>
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef> Amount </th>
          <td mat-cell *matCellDef="let element">{{element.amount | currency}}</td>
        </ng-container>
        <ng-container matColumnDef="memo">
          <th mat-header-cell *matHeaderCellDef> Memo </th>
          <td mat-cell *matCellDef="let element">{{element.memo}}</td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr style="background-color: var(--secondary);" mat-row *matRowDef="let myRowData; columns columnsToDisplay"></tr>
      </table>
    </div>
    <div class="details-panel">
      <div class="details">
        <div class="stats-title">Stats</div>
        <div class="stats-content">
          <div class="stats-col">
            <div class="stat">
              <label>Date Range:</label>
              <span>{{dateRange}}</span>
            </div>
            <div class="stat">
              <label>Payments:</label>
              <span>{{payments | currency}}</span>
            </div>
            <div class="stat">
              <label>Erin Total:</label>
              <span>{{erinTotal | currency}}</span>
            </div>
          </div>
          <div class="stats-col">
            <div class="stat">
              <label>Expenses:</label>
              <span>{{expenses | currency}}</span>
            </div>
            <div class="stat">
              <label>Returns:</label>
              <span>{{returns | currency}}</span>
            </div>
            <div class="stat">
              <label>Total Transactions:</label>
              <span>{{totalTransactions}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>